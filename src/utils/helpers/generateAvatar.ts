const EMOJII =
  'ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ¤£ ğŸ¥² ğŸ¥¹ ğŸ˜Š ğŸ˜‡ ğŸ™‚ ğŸ™ƒ ğŸ˜‰ ğŸ˜Œ ğŸ˜ ğŸ¥° ğŸ˜˜ ğŸ˜— ğŸ˜™ ğŸ˜š ğŸ˜‹ ğŸ˜› ğŸ˜ ğŸ˜œ ğŸ¤ª ğŸ¤¨ ğŸ§ ğŸ¤“ ğŸ˜ ğŸ¥¸ ğŸ¤© ğŸ¥³ ğŸ˜ ğŸ˜’ ğŸ˜ ğŸ˜” ğŸ˜Ÿ ğŸ˜• ğŸ™ ğŸ˜£ ğŸ˜– ğŸ˜« ğŸ˜© ğŸ¥º ğŸ˜¢ ğŸ˜­ ğŸ˜®â€ğŸ’¨ ğŸ˜¤ ğŸ˜  ğŸ˜¡ ğŸ¤¬ ğŸ¤¯ ğŸ˜³ ğŸ¥µ ğŸ¥¶ ğŸ˜± ğŸ˜¨ ğŸ˜° ğŸ˜¥ ğŸ˜“ ğŸ«£ ğŸ¤— ğŸ¤” ğŸ«¢ ğŸ¤­ ğŸ¤« ğŸ¤¥ ğŸ˜¶ ğŸ˜¶â€ğŸŒ«ï¸ ğŸ˜ ğŸ˜‘ ğŸ˜¬ ğŸ«  ğŸ™„ ğŸ˜¯ ğŸ˜¦ ğŸ˜§ ğŸ˜® ğŸ˜² ğŸ¥± ğŸ˜´ ğŸ¤¤ ğŸ˜ª ğŸ˜µ ğŸ˜µâ€ğŸ’« ğŸ«¥ ğŸ¤ ğŸ¥´ ğŸ¤¢ ğŸ¤® ğŸ¤§ ğŸ˜· ğŸ¤’ ğŸ¤• ğŸ¤‘ ğŸ¤  ğŸ˜ˆ ğŸ‘¿ ğŸ‘¹ ğŸ‘º ğŸ¤¡ ğŸ’© ğŸ‘» ğŸ’€ ğŸ‘½ ğŸ‘¾ ğŸ¤– ğŸƒ ğŸ˜º ğŸ˜¸ ğŸ˜¹ ğŸ˜» ğŸ˜¼ ğŸ˜½ ğŸ™€ ğŸ˜¿ ğŸ˜¾ ğŸ¶ ğŸ± ğŸ­ ğŸ¹ ğŸ° ğŸ¦Š ğŸ» ğŸ¼ ğŸ»â€â„ï¸ ğŸ¨ ğŸ¯ ğŸ¦ ğŸ® ğŸ· ğŸ½ ğŸ¸ ğŸµ ğŸ™ˆ ğŸ™‰ ğŸ™Š ğŸ’ ğŸ” ğŸ§ ğŸ¦ ğŸ¤ ğŸ£ ğŸ¦† ğŸ¦… ğŸ¦‰ ğŸ¦‡ ğŸº ğŸ— ğŸ´ ğŸ¦„ ğŸ ğŸª± ğŸ› ğŸ¦‹ ğŸŒ ğŸ ğŸ¢ ğŸ ğŸ¦– ğŸ™ ğŸ¦‘ ğŸ¦ ğŸ¦€ ğŸª¸ ğŸ¡ ğŸ  ğŸŸ ğŸ¬ ğŸ³ ğŸ‹ ğŸ¦ˆ ğŸŠ ğŸ² ğŸ¦¥ ğŸŒµ ğŸ„ ğŸŒ² ğŸŒ³ ğŸ€ ğŸ ğŸ„ ğŸš ğŸŒ¹ ğŸŒº ğŸŒ¸ ğŸŒ¼ ğŸ”¥ ğŸŒˆ ğŸ’§ â›„ï¸ ğŸ ğŸ ğŸ ğŸŠ ğŸ‹ ğŸŒ ğŸ‰ ğŸ‡ ğŸ“ ğŸ« ğŸˆ ğŸ’ ğŸ‘ ğŸ¥­ ğŸ ğŸ¥¥ ğŸ¥ ğŸ… ğŸ† ğŸ¥‘ ğŸŒ¶ ğŸ«‘ ğŸŒ½ ğŸ¥ ğŸ ğŸ¥– ğŸ§€ ğŸ¥š ğŸ¥ª ğŸ§‡ ğŸ” ğŸŸ ğŸ• ğŸŒ® ğŸ™ ğŸ˜ ğŸ¥ ğŸ£ ğŸ¥® ğŸ‚ ğŸ­ ğŸ¿ ğŸ© ğŸª ğŸ¼ ğŸº ğŸ· âš½ï¸ ğŸ€ ğŸˆ âš¾ï¸ ğŸ¾ ğŸ ğŸ‰ ğŸ¥ ğŸ± ğŸª€ ğŸ“ ğŸ¨ ğŸ§© ğŸµ ğŸ¥Š ğŸ¯'

const emojiList = EMOJII.split(' ')

function lighten(col: string, amt: number) {
  let usePound = false

  if (col[0] == '#') {
    col = col.slice(1)
    usePound = true
  }

  const num = parseInt(col, 16)

  let r = (num >> 16) + amt

  if (r > 255) r = 255
  else if (r < 0) r = 0

  let b = ((num >> 8) & 0x00ff) + amt

  if (b > 255) b = 255
  else if (b < 0) b = 0

  let g = (num & 0x0000ff) + amt

  if (g > 255) g = 255
  else if (g < 0) g = 0

  return (usePound ? '#' : '') + (g | (b << 8) | (r << 16)).toString(16)
}

const mapCharToNumber = (char: string) => {
  const code = char.charCodeAt(0)
  if (code >= 'g'.charCodeAt(0) && code <= 'z'.charCodeAt(0)) {
    return (code - 'g'.charCodeAt(0)) % 10
  }
  return char
}

export const generateAvatar = (address: string) => {
  let renderAddress
  if (address?.startsWith('dydx')) {
    const addressWithoutPrefix = address.slice(5)
    renderAddress = Array.from(addressWithoutPrefix, mapCharToNumber).join('')
  }
  const emojiHex = renderAddress ? renderAddress.slice(0, 2) : address.slice(2, 4)
  const emoji = emojiList[parseInt(emojiHex, 16)]
  const bg = `#${renderAddress ? renderAddress.slice(3, 9) : address.slice(5, 11)}`
  return {
    emoji,
    bg,
    gradient: `linear-gradient(-70deg, ${lighten(bg, 50)} 0%, ${lighten(bg, 50)} 41%, ${bg} 40%, ${bg} 100%)`,
  }
}

export function getAvatarName({ address }: { address: string }) {
  const { emoji } = generateAvatar(address)
  const name = EMOJI_NAMES[emoji] ?? ''
  return name
}

const EMOJI_NAMES: Record<string, string> = {
  'ğŸ˜€': 'grinning face',
  'ğŸ˜ƒ': 'big smile',
  'ğŸ˜„': 'laughing',
  'ğŸ˜': 'beaming smile',
  'ğŸ˜†': 'grinning squint',
  'ğŸ˜…': 'sweat smile',
  'ğŸ˜‚': 'joy tears',
  'ğŸ¤£': 'rolling laugh',
  'ğŸ¥²': 'tear smile',
  'ğŸ¥¹': 'teary eyes',
  'ğŸ˜Š': 'smiling face',
  'ğŸ˜‡': 'angel smile',
  'ğŸ™‚': 'slight smile',
  'ğŸ™ƒ': 'upside-down',
  'ğŸ˜‰': 'winking face',
  'ğŸ˜Œ': 'relieved face',
  'ğŸ˜': 'heart eyes',
  'ğŸ¥°': 'love face',
  'ğŸ˜˜': 'blowing kiss',
  'ğŸ˜—': 'kissing face',
  'ğŸ˜™': 'smiling kiss',
  'ğŸ˜š': 'closed kiss',
  'ğŸ˜‹': 'yum face',
  'ğŸ˜›': 'tongue out',
  'ğŸ˜': 'squint tongue',
  'ğŸ˜œ': 'wink tongue',
  'ğŸ¤ª': 'zany face',
  'ğŸ¤¨': 'raised brow',
  'ğŸ§': 'monocle face',
  'ğŸ¤“': 'nerd face',
  'ğŸ˜': 'cool face',
  'ğŸ¥¸': 'disguised face',
  'ğŸ¤©': 'star eyes',
  'ğŸ¥³': 'party face',
  'ğŸ˜': 'smirk face',
  'ğŸ˜’': 'unamused face',
  'ğŸ˜': 'disappointed',
  'ğŸ˜”': 'pensive face',
  'ğŸ˜Ÿ': 'worried face',
  'ğŸ˜•': 'confused face',
  'ğŸ™': 'slight frown',
  'ğŸ˜£': 'persevering',
  'ğŸ˜–': 'confounded',
  'ğŸ˜«': 'tired face',
  'ğŸ˜©': 'weary face',
  'ğŸ¥º': 'pleading eyes',
  'ğŸ˜¢': 'crying face',
  'ğŸ˜­': 'loud cry',
  'ğŸ˜®â€ğŸ’¨': 'relieved sigh',
  'ğŸ˜¤': 'triumph face',
  'ğŸ˜ ': 'angry face',
  'ğŸ˜¡': 'rage face',
  'ğŸ¤¬': 'cursing face',
  'ğŸ¤¯': 'mind blown',
  'ğŸ˜³': 'flushed face',
  'ğŸ¥µ': 'hot face',
  'ğŸ¥¶': 'cold face',
  'ğŸ˜±': 'screaming',
  'ğŸ˜¨': 'fearful face',
  'ğŸ˜°': 'anxious sweat',
  'ğŸ˜¥': 'sad sweat',
  'ğŸ˜“': 'sweat face',
  'ğŸ«£': 'peeking face',
  'ğŸ¤—': 'hugging face',
  'ğŸ¤”': 'thinking face',
  'ğŸ«¢': 'shushing face',
  'ğŸ¤­': 'hand over mouth',
  'ğŸ¤«': 'shush face',
  'ğŸ¤¥': 'lying face',
  'ğŸ˜¶': 'no mouth',
  'ğŸ˜¶â€ğŸŒ«ï¸': 'clouded face',
  'ğŸ˜': 'neutral face',
  'ğŸ˜‘': 'expressionless',
  'ğŸ˜¬': 'grimace face',
  'ğŸ« ': 'melting face',
  'ğŸ™„': 'eye roll',
  'ğŸ˜¯': 'hushed face',
  'ğŸ˜¦': 'frowning open',
  'ğŸ˜§': 'anguished face',
  'ğŸ˜®': 'open mouth',
  'ğŸ˜²': 'astonished',
  'ğŸ¥±': 'yawning face',
  'ğŸ˜´': 'sleeping face',
  'ğŸ¤¤': 'drooling face',
  'ğŸ˜ª': 'sleepy face',
  'ğŸ˜µ': 'dizzy face',
  'ğŸ˜µâ€ğŸ’«': 'spiral eyes',
  'ğŸ«¥': 'dotted face',
  'ğŸ¤': 'zipper mouth',
  'ğŸ¥´': 'woozy face',
  'ğŸ¤¢': 'nauseated',
  'ğŸ¤®': 'vomiting face',
  'ğŸ¤§': 'sneezing face',
  'ğŸ˜·': 'mask face',
  'ğŸ¤’': 'sick face',
  'ğŸ¤•': 'injured face',
  'ğŸ¤‘': 'money face',
  'ğŸ¤ ': 'cowboy face',
  'ğŸ˜ˆ': 'smiling devil',
  'ğŸ‘¿': 'angry devil',
  'ğŸ‘¹': 'ogre face',
  'ğŸ‘º': 'goblin face',
  'ğŸ¤¡': 'clown face',
  'ğŸ’©': 'poop face',
  'ğŸ‘»': 'ghost face',
  'ğŸ’€': 'skull face',
  'ğŸ‘½': 'alien face',
  'ğŸ‘¾': 'alien monster',
  'ğŸ¤–': 'robot face',
  'ğŸƒ': 'pumpkin face',
  'ğŸ˜º': 'smiling cat',
  'ğŸ˜¸': 'grin cat',
  'ğŸ˜¹': 'joy tears cat',
  'ğŸ˜»': 'heart eyes cat',
  'ğŸ˜¼': 'smirk cat',
  'ğŸ˜½': 'kiss cat',
  'ğŸ™€': 'weary cat',
  'ğŸ˜¿': 'crying cat',
  'ğŸ˜¾': 'pouting cat',
  'ğŸ¶': 'dog face',
  'ğŸ±': 'cat face',
  'ğŸ­': 'mouse face',
  'ğŸ¹': 'hamster face',
  'ğŸ°': 'bunny face',
  'ğŸ¦Š': 'fox face',
  'ğŸ»': 'bear face',
  'ğŸ¼': 'panda face',
  'ğŸ»â€â„ï¸': 'polar bear',
  'ğŸ¨': 'koala face',
  'ğŸ¯': 'tiger face',
  'ğŸ¦': 'lion face',
  'ğŸ®': 'cow face',
  'ğŸ·': 'pig face',
  'ğŸ½': 'pig nose',
  'ğŸ¸': 'frog face',
  'ğŸµ': 'monkey face',
  'ğŸ™ˆ': 'see no evil',
  'ğŸ™‰': 'hear no evil',
  'ğŸ™Š': 'speak no evil',
  'ğŸ’': 'monkey',
  'ğŸ”': 'chicken',
  'ğŸ§': 'penguin',
  'ğŸ¦': 'bird',
  'ğŸ¤': 'baby chick',
  'ğŸ£': 'hatching chick',
  'ğŸ¦†': 'duck',
  'ğŸ¦…': 'eagle',
  'ğŸ¦‰': 'owl',
  'ğŸ¦‡': 'bat',
  'ğŸº': 'wolf',
  'ğŸ—': 'boar',
  'ğŸ´': 'horse',
  'ğŸ¦„': 'unicorn',
  'ğŸ': 'bee',
  'ğŸª±': 'worm',
  'ğŸ›': 'bug',
  'ğŸ¦‹': 'butterfly',
  'ğŸŒ': 'snail',
  'ğŸ': 'ladybug',
  'ğŸ¢': 'turtle',
  'ğŸ': 'snake',
  'ğŸ¦–': 'dinosaur',
  'ğŸ™': 'octopus',
  'ğŸ¦‘': 'squid',
  'ğŸ¦': 'shrimp',
  'ğŸ¦€': 'crab',
  'ğŸª¸': 'coral',
  'ğŸ¡': 'puffer fish',
  'ğŸ ': 'tropical fish',
  'ğŸŸ': 'fish',
  'ğŸ¬': 'dolphin',
  'ğŸ³': 'whale spout',
  'ğŸ‹': 'whale',
  'ğŸ¦ˆ': 'shark',
  'ğŸŠ': 'crocodile',
  'ğŸ²': 'dragon',
  'ğŸ¦¥': 'sloth',
  'ğŸŒµ': 'cactus',
  'ğŸ„': 'christmas tree',
  'ğŸŒ²': 'pine tree',
  'ğŸŒ³': 'deciduous tree',
  'ğŸ€': 'four leaf clover',
  'ğŸ': 'maple leaf',
  'ğŸ„': 'mushroom',
  'ğŸš': 'spiral shell',
  'ğŸŒ¹': 'rose',
  'ğŸŒº': 'hibiscus',
  'ğŸŒ¸': 'cherry blossom',
  'ğŸŒ¼': 'blossom',
  'ğŸ”¥': 'fire',
  'ğŸŒˆ': 'rainbow',
  'ğŸ’§': 'droplet',
  'â›„ï¸': 'snowman',
  'ğŸ': 'green apple',
  'ğŸ': 'red apple',
  'ğŸ': 'pear',
  'ğŸŠ': 'orange',
  'ğŸ‹': 'lemon',
  'ğŸŒ': 'banana',
  'ğŸ‰': 'watermelon',
  'ğŸ‡': 'grapes',
  'ğŸ“': 'strawberry',
  'ğŸ«': 'blueberries',
  'ğŸˆ': 'melon',
  'ğŸ’': 'cherries',
  'ğŸ‘': 'peach',
  'ğŸ¥­': 'mango',
  'ğŸ': 'pineapple',
  'ğŸ¥¥': 'coconut',
  'ğŸ¥': 'kiwi',
  'ğŸ…': 'tomato',
  'ğŸ†': 'eggplant',
  'ğŸ¥‘': 'avocado',
  'ğŸŒ¶': 'chili pepper',
  'ğŸ«‘': 'bell pepper',
  'ğŸŒ½': 'corn',
  'ğŸ¥': 'croissant',
  'ğŸ': 'bread',
  'ğŸ¥–': 'baguette',
  'ğŸ§€': 'cheese',
  'ğŸ¥š': 'egg',
  'ğŸ¥ª': 'sandwich',
  'ğŸ§‡': 'waffle',
  'ğŸ”': 'burger',
  'ğŸŸ': 'french fries',
  'ğŸ•': 'pizza',
  'ğŸŒ®': 'taco',
  'ğŸ™': 'rice ball',
  'ğŸ˜': 'rice cracker',
  'ğŸ¥': 'fish cake',
  'ğŸ£': 'sushi',
  'ğŸ¥®': 'moon cake',
  'ğŸ‚': 'birthday cake',
  'ğŸ­': 'lollipop',
  'ğŸ¿': 'popcorn',
  'ğŸ©': 'doughnut',
  'ğŸª': 'cookie',
  'ğŸ¼': 'baby bottle',
  'ğŸº': 'beer',
  'ğŸ·': 'wine',
  'âš½ï¸': 'soccer ball',
  'ğŸ€': 'basketball',
  'ğŸˆ': 'football',
  'âš¾ï¸': 'baseball',
  'ğŸ¾': 'tennis',
  'ğŸ': 'volleyball',
  'ğŸ‰': 'rugby ball',
  'ğŸ¥': 'flying disc',
  'ğŸ±': 'pool ball',
  'ğŸª€': 'yo-yo',
  'ğŸ“': 'ping pong',
  'ğŸ¨': 'art palette',
  'ğŸ§©': 'puzzle piece',
  'ğŸµ': 'rosette',
  'ğŸ¥Š': 'boxing gloves',
  'ğŸ¯': 'honey pot',
}
